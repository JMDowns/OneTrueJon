d664571a7bc2df012a69aa067882837c
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
require('../utils/click/isClickableInput.js');
var Clipboard = require('../utils/dataTransfer/Clipboard.js');
require('../utils/edit/isEditable.js');
require('../utils/edit/maxLength.js');
require('@testing-library/dom/dist/helpers.js');
require('../utils/keyDef/readNextDescriptor.js');
require('../utils/misc/level.js');
require('../options.js');
var copySelection = require('../document/copySelection.js');
async function copy() {
  const doc = this.config.document;
  var _doc_activeElement;
  const target = (_doc_activeElement = doc.activeElement) !== null && _doc_activeElement !== void 0 ? _doc_activeElement : /* istanbul ignore next */doc.body;
  const clipboardData = copySelection.copySelection(target);
  if (clipboardData.items.length === 0) {
    return;
  }
  if (this.dispatchUIEvent(target, 'copy', {
    clipboardData
  }) && this.config.writeToClipboard) {
    await Clipboard.writeDataTransferToClipboard(doc, clipboardData);
  }
  return clipboardData;
}
exports.copy = copy;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInJlcXVpcmUiLCJDbGlwYm9hcmQiLCJjb3B5U2VsZWN0aW9uIiwiY29weSIsImRvYyIsImNvbmZpZyIsImRvY3VtZW50IiwiX2RvY19hY3RpdmVFbGVtZW50IiwidGFyZ2V0IiwiYWN0aXZlRWxlbWVudCIsImJvZHkiLCJjbGlwYm9hcmREYXRhIiwiaXRlbXMiLCJsZW5ndGgiLCJkaXNwYXRjaFVJRXZlbnQiLCJ3cml0ZVRvQ2xpcGJvYXJkIiwid3JpdGVEYXRhVHJhbnNmZXJUb0NsaXBib2FyZCJdLCJzb3VyY2VzIjpbImNvcHkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5yZXF1aXJlKCcuLi91dGlscy9jbGljay9pc0NsaWNrYWJsZUlucHV0LmpzJyk7XG52YXIgQ2xpcGJvYXJkID0gcmVxdWlyZSgnLi4vdXRpbHMvZGF0YVRyYW5zZmVyL0NsaXBib2FyZC5qcycpO1xucmVxdWlyZSgnLi4vdXRpbHMvZWRpdC9pc0VkaXRhYmxlLmpzJyk7XG5yZXF1aXJlKCcuLi91dGlscy9lZGl0L21heExlbmd0aC5qcycpO1xucmVxdWlyZSgnQHRlc3RpbmctbGlicmFyeS9kb20vZGlzdC9oZWxwZXJzLmpzJyk7XG5yZXF1aXJlKCcuLi91dGlscy9rZXlEZWYvcmVhZE5leHREZXNjcmlwdG9yLmpzJyk7XG5yZXF1aXJlKCcuLi91dGlscy9taXNjL2xldmVsLmpzJyk7XG5yZXF1aXJlKCcuLi9vcHRpb25zLmpzJyk7XG52YXIgY29weVNlbGVjdGlvbiA9IHJlcXVpcmUoJy4uL2RvY3VtZW50L2NvcHlTZWxlY3Rpb24uanMnKTtcblxuYXN5bmMgZnVuY3Rpb24gY29weSgpIHtcbiAgICBjb25zdCBkb2MgPSB0aGlzLmNvbmZpZy5kb2N1bWVudDtcbiAgICB2YXIgX2RvY19hY3RpdmVFbGVtZW50O1xuICAgIGNvbnN0IHRhcmdldCA9IChfZG9jX2FjdGl2ZUVsZW1lbnQgPSBkb2MuYWN0aXZlRWxlbWVudCkgIT09IG51bGwgJiYgX2RvY19hY3RpdmVFbGVtZW50ICE9PSB2b2lkIDAgPyBfZG9jX2FjdGl2ZUVsZW1lbnQgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBkb2MuYm9keTtcbiAgICBjb25zdCBjbGlwYm9hcmREYXRhID0gY29weVNlbGVjdGlvbi5jb3B5U2VsZWN0aW9uKHRhcmdldCk7XG4gICAgaWYgKGNsaXBib2FyZERhdGEuaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzcGF0Y2hVSUV2ZW50KHRhcmdldCwgJ2NvcHknLCB7XG4gICAgICAgIGNsaXBib2FyZERhdGFcbiAgICB9KSAmJiB0aGlzLmNvbmZpZy53cml0ZVRvQ2xpcGJvYXJkKSB7XG4gICAgICAgIGF3YWl0IENsaXBib2FyZC53cml0ZURhdGFUcmFuc2ZlclRvQ2xpcGJvYXJkKGRvYywgY2xpcGJvYXJkRGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBjbGlwYm9hcmREYXRhO1xufVxuXG5leHBvcnRzLmNvcHkgPSBjb3B5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaQSxNQUFNLENBQUNDLGNBQWMsQ0FBQ0MsT0FBTyxFQUFFLFlBQVksRUFBRTtFQUFFQyxLQUFLLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFFN0RDLE9BQU8sQ0FBQyxvQ0FBb0MsQ0FBQztBQUM3QyxJQUFJQyxTQUFTLEdBQUdELE9BQU8sQ0FBQyxvQ0FBb0MsQ0FBQztBQUM3REEsT0FBTyxDQUFDLDZCQUE2QixDQUFDO0FBQ3RDQSxPQUFPLENBQUMsNEJBQTRCLENBQUM7QUFDckNBLE9BQU8sQ0FBQyxzQ0FBc0MsQ0FBQztBQUMvQ0EsT0FBTyxDQUFDLHVDQUF1QyxDQUFDO0FBQ2hEQSxPQUFPLENBQUMsd0JBQXdCLENBQUM7QUFDakNBLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDeEIsSUFBSUUsYUFBYSxHQUFHRixPQUFPLENBQUMsOEJBQThCLENBQUM7QUFFM0QsZUFBZUcsSUFBSUEsQ0FBQSxFQUFHO0VBQ2xCLE1BQU1DLEdBQUcsR0FBRyxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsUUFBUTtFQUNoQyxJQUFJQyxrQkFBa0I7RUFDdEIsTUFBTUMsTUFBTSxHQUFHLENBQUNELGtCQUFrQixHQUFHSCxHQUFHLENBQUNLLGFBQWEsTUFBTSxJQUFJLElBQUlGLGtCQUFrQixLQUFLLEtBQUssQ0FBQyxHQUFHQSxrQkFBa0IsR0FBRywwQkFBMkJILEdBQUcsQ0FBQ00sSUFBSTtFQUM1SixNQUFNQyxhQUFhLEdBQUdULGFBQWEsQ0FBQ0EsYUFBYSxDQUFDTSxNQUFNLENBQUM7RUFDekQsSUFBSUcsYUFBYSxDQUFDQyxLQUFLLENBQUNDLE1BQU0sS0FBSyxDQUFDLEVBQUU7SUFDbEM7RUFDSjtFQUNBLElBQUksSUFBSSxDQUFDQyxlQUFlLENBQUNOLE1BQU0sRUFBRSxNQUFNLEVBQUU7SUFDckNHO0VBQ0osQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDTixNQUFNLENBQUNVLGdCQUFnQixFQUFFO0lBQ2hDLE1BQU1kLFNBQVMsQ0FBQ2UsNEJBQTRCLENBQUNaLEdBQUcsRUFBRU8sYUFBYSxDQUFDO0VBQ3BFO0VBQ0EsT0FBT0EsYUFBYTtBQUN4QjtBQUVBYixPQUFPLENBQUNLLElBQUksR0FBR0EsSUFBSSJ9