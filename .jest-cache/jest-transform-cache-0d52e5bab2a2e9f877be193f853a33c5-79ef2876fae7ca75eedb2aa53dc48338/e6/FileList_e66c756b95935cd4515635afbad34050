3d5420dfb92ad82cd2ba0327ce93ea6a
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

// FileList can not be created per constructor.
function createFileList(window, files) {
  const list = {
    ...files,
    length: files.length,
    item: index => list[index],
    [Symbol.iterator]: function* nextFile() {
      for (let i = 0; i < list.length; i++) {
        yield list[i];
      }
    }
  };
  list.constructor = window.FileList;
  // guard for environments without FileList
  /* istanbul ignore else */
  if (window.FileList) {
    Object.setPrototypeOf(list, window.FileList.prototype);
  }
  Object.freeze(list);
  return list;
}
exports.createFileList = createFileList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNyZWF0ZUZpbGVMaXN0Iiwid2luZG93IiwiZmlsZXMiLCJsaXN0IiwibGVuZ3RoIiwiaXRlbSIsImluZGV4IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0RmlsZSIsImkiLCJjb25zdHJ1Y3RvciIsIkZpbGVMaXN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJmcmVlemUiXSwic291cmNlcyI6WyJGaWxlTGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbi8vIEZpbGVMaXN0IGNhbiBub3QgYmUgY3JlYXRlZCBwZXIgY29uc3RydWN0b3IuXG5mdW5jdGlvbiBjcmVhdGVGaWxlTGlzdCh3aW5kb3csIGZpbGVzKSB7XG4gICAgY29uc3QgbGlzdCA9IHtcbiAgICAgICAgLi4uZmlsZXMsXG4gICAgICAgIGxlbmd0aDogZmlsZXMubGVuZ3RoLFxuICAgICAgICBpdGVtOiAoaW5kZXgpPT5saXN0W2luZGV4XSxcbiAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl06IGZ1bmN0aW9uKiBuZXh0RmlsZSgpIHtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICB5aWVsZCBsaXN0W2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBsaXN0LmNvbnN0cnVjdG9yID0gd2luZG93LkZpbGVMaXN0O1xuICAgIC8vIGd1YXJkIGZvciBlbnZpcm9ubWVudHMgd2l0aG91dCBGaWxlTGlzdFxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovIGlmICh3aW5kb3cuRmlsZUxpc3QpIHtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGxpc3QsIHdpbmRvdy5GaWxlTGlzdC5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBPYmplY3QuZnJlZXplKGxpc3QpO1xuICAgIHJldHVybiBsaXN0O1xufVxuXG5leHBvcnRzLmNyZWF0ZUZpbGVMaXN0ID0gY3JlYXRlRmlsZUxpc3Q7XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVpBLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDQyxPQUFPLEVBQUUsWUFBWSxFQUFFO0VBQUVDLEtBQUssRUFBRTtBQUFLLENBQUMsQ0FBQzs7QUFFN0Q7QUFDQSxTQUFTQyxjQUFjQSxDQUFDQyxNQUFNLEVBQUVDLEtBQUssRUFBRTtFQUNuQyxNQUFNQyxJQUFJLEdBQUc7SUFDVCxHQUFHRCxLQUFLO0lBQ1JFLE1BQU0sRUFBRUYsS0FBSyxDQUFDRSxNQUFNO0lBQ3BCQyxJQUFJLEVBQUdDLEtBQUssSUFBR0gsSUFBSSxDQUFDRyxLQUFLLENBQUM7SUFDMUIsQ0FBQ0MsTUFBTSxDQUFDQyxRQUFRLEdBQUcsVUFBVUMsUUFBUUEsQ0FBQSxFQUFHO01BQ3BDLEtBQUksSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHUCxJQUFJLENBQUNDLE1BQU0sRUFBRU0sQ0FBQyxFQUFFLEVBQUM7UUFDaEMsTUFBTVAsSUFBSSxDQUFDTyxDQUFDLENBQUM7TUFDakI7SUFDSjtFQUNKLENBQUM7RUFDRFAsSUFBSSxDQUFDUSxXQUFXLEdBQUdWLE1BQU0sQ0FBQ1csUUFBUTtFQUNsQztFQUNBO0VBQTJCLElBQUlYLE1BQU0sQ0FBQ1csUUFBUSxFQUFFO0lBQzVDaEIsTUFBTSxDQUFDaUIsY0FBYyxDQUFDVixJQUFJLEVBQUVGLE1BQU0sQ0FBQ1csUUFBUSxDQUFDRSxTQUFTLENBQUM7RUFDMUQ7RUFDQWxCLE1BQU0sQ0FBQ21CLE1BQU0sQ0FBQ1osSUFBSSxDQUFDO0VBQ25CLE9BQU9BLElBQUk7QUFDZjtBQUVBTCxPQUFPLENBQUNFLGNBQWMsR0FBR0EsY0FBYyJ9