{"version":3,"names":["Object","defineProperty","exports","value","fakeFiles","Symbol","restoreProperty","obj","prop","descriptor","setFiles","el","files","_el_fakeFiles","restore","typeDescr","getOwnPropertyDescriptor","valueDescr","filesDescr","defineProperties","configurable","get","length","name","set","v","_valueDescr_set","call","type"],"sources":["setFiles.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n// It is not possible to create a real FileList programmatically.\n// Therefore assigning `files` property with a programmatically created FileList results in an error.\n// Just assigning the property (as per fireEvent) breaks the interweaving with the `value` property.\nconst fakeFiles = Symbol('files and value properties are mocked');\nfunction restoreProperty(obj, prop, descriptor) {\n    if (descriptor) {\n        Object.defineProperty(obj, prop, descriptor);\n    } else {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete obj[prop];\n    }\n}\nfunction setFiles(el, files) {\n    var _el_fakeFiles;\n    (_el_fakeFiles = el[fakeFiles]) === null || _el_fakeFiles === void 0 ? void 0 : _el_fakeFiles.restore();\n    const typeDescr = Object.getOwnPropertyDescriptor(el, 'type');\n    const valueDescr = Object.getOwnPropertyDescriptor(el, 'value');\n    const filesDescr = Object.getOwnPropertyDescriptor(el, 'files');\n    function restore() {\n        restoreProperty(el, 'type', typeDescr);\n        restoreProperty(el, 'value', valueDescr);\n        restoreProperty(el, 'files', filesDescr);\n    }\n    el[fakeFiles] = {\n        restore\n    };\n    Object.defineProperties(el, {\n        files: {\n            configurable: true,\n            get: ()=>files\n        },\n        value: {\n            configurable: true,\n            get: ()=>files.length ? `C:\\\\fakepath\\\\${files[0].name}` : '',\n            set (v) {\n                if (v === '') {\n                    restore();\n                } else {\n                    var _valueDescr_set;\n                    valueDescr === null || valueDescr === void 0 ? void 0 : (_valueDescr_set = valueDescr.set) === null || _valueDescr_set === void 0 ? void 0 : _valueDescr_set.call(el, v);\n                }\n            }\n        },\n        type: {\n            configurable: true,\n            get: ()=>'file',\n            set (v) {\n                if (v !== 'file') {\n                    restore();\n                    el.type = v;\n                }\n            }\n        }\n    });\n}\n\nexports.setFiles = setFiles;\n"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;;AAE7D;AACA;AACA;AACA,MAAMC,SAAS,GAAGC,MAAM,CAAC,uCAAuC,CAAC;AACjE,SAASC,eAAeA,CAACC,GAAG,EAAEC,IAAI,EAAEC,UAAU,EAAE;EAC5C,IAAIA,UAAU,EAAE;IACZT,MAAM,CAACC,cAAc,CAACM,GAAG,EAAEC,IAAI,EAAEC,UAAU,CAAC;EAChD,CAAC,MAAM;IACH;IACA,OAAOF,GAAG,CAACC,IAAI,CAAC;EACpB;AACJ;AACA,SAASE,QAAQA,CAACC,EAAE,EAAEC,KAAK,EAAE;EACzB,IAAIC,aAAa;EACjB,CAACA,aAAa,GAAGF,EAAE,CAACP,SAAS,CAAC,MAAM,IAAI,IAAIS,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACC,OAAO,CAAC,CAAC;EACvG,MAAMC,SAAS,GAAGf,MAAM,CAACgB,wBAAwB,CAACL,EAAE,EAAE,MAAM,CAAC;EAC7D,MAAMM,UAAU,GAAGjB,MAAM,CAACgB,wBAAwB,CAACL,EAAE,EAAE,OAAO,CAAC;EAC/D,MAAMO,UAAU,GAAGlB,MAAM,CAACgB,wBAAwB,CAACL,EAAE,EAAE,OAAO,CAAC;EAC/D,SAASG,OAAOA,CAAA,EAAG;IACfR,eAAe,CAACK,EAAE,EAAE,MAAM,EAAEI,SAAS,CAAC;IACtCT,eAAe,CAACK,EAAE,EAAE,OAAO,EAAEM,UAAU,CAAC;IACxCX,eAAe,CAACK,EAAE,EAAE,OAAO,EAAEO,UAAU,CAAC;EAC5C;EACAP,EAAE,CAACP,SAAS,CAAC,GAAG;IACZU;EACJ,CAAC;EACDd,MAAM,CAACmB,gBAAgB,CAACR,EAAE,EAAE;IACxBC,KAAK,EAAE;MACHQ,YAAY,EAAE,IAAI;MAClBC,GAAG,EAAEA,CAAA,KAAIT;IACb,CAAC;IACDT,KAAK,EAAE;MACHiB,YAAY,EAAE,IAAI;MAClBC,GAAG,EAAEA,CAAA,KAAIT,KAAK,CAACU,MAAM,GAAI,iBAAgBV,KAAK,CAAC,CAAC,CAAC,CAACW,IAAK,EAAC,GAAG,EAAE;MAC7DC,GAAGA,CAAEC,CAAC,EAAE;QACJ,IAAIA,CAAC,KAAK,EAAE,EAAE;UACVX,OAAO,CAAC,CAAC;QACb,CAAC,MAAM;UACH,IAAIY,eAAe;UACnBT,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACS,eAAe,GAAGT,UAAU,CAACO,GAAG,MAAM,IAAI,IAAIE,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,eAAe,CAACC,IAAI,CAAChB,EAAE,EAAEc,CAAC,CAAC;QAC5K;MACJ;IACJ,CAAC;IACDG,IAAI,EAAE;MACFR,YAAY,EAAE,IAAI;MAClBC,GAAG,EAAEA,CAAA,KAAI,MAAM;MACfG,GAAGA,CAAEC,CAAC,EAAE;QACJ,IAAIA,CAAC,KAAK,MAAM,EAAE;UACdX,OAAO,CAAC,CAAC;UACTH,EAAE,CAACiB,IAAI,GAAGH,CAAC;QACf;MACJ;IACJ;EACJ,CAAC,CAAC;AACN;AAEAvB,OAAO,CAACQ,QAAQ,GAAGA,QAAQ"}