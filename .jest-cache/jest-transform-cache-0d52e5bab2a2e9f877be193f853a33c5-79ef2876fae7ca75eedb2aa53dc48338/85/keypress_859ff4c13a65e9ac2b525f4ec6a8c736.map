{"version":3,"names":["require","isContentEditable","isEditable","isElementType","input","registry","behavior","keypress","event","target","instance","key","ClickInputOnEnter","includes","type","Boolean","href","dispatchUIEvent","form","submit","querySelector","SubmitSingleInputOnEnter","querySelectorAll","length","inputType","system","keyboard","modifiers","Shift","inputData"],"sources":["keypress.js"],"sourcesContent":["'use strict';\n\nrequire('../../utils/click/isClickableInput.js');\nrequire('../../utils/dataTransfer/Clipboard.js');\nvar isContentEditable = require('../../utils/edit/isContentEditable.js');\nvar isEditable = require('../../utils/edit/isEditable.js');\nrequire('../../utils/edit/maxLength.js');\nvar isElementType = require('../../utils/misc/isElementType.js');\nrequire('@testing-library/dom/dist/helpers.js');\nrequire('../../utils/keyDef/readNextDescriptor.js');\nrequire('../../utils/misc/level.js');\nrequire('../../options.js');\nvar input = require('../input.js');\nvar registry = require('./registry.js');\n\nregistry.behavior.keypress = (event, target, instance)=>{\n    if (event.key === 'Enter') {\n        if (isElementType.isElementType(target, 'button') || isElementType.isElementType(target, 'input') && ClickInputOnEnter.includes(target.type) || isElementType.isElementType(target, 'a') && Boolean(target.href)) {\n            return ()=>{\n                instance.dispatchUIEvent(target, 'click');\n            };\n        } else if (isElementType.isElementType(target, 'input')) {\n            const form = target.form;\n            const submit = form === null || form === void 0 ? void 0 : form.querySelector('input[type=\"submit\"], button:not([type]), button[type=\"submit\"]');\n            if (submit) {\n                return ()=>instance.dispatchUIEvent(submit, 'click');\n            } else if (form && SubmitSingleInputOnEnter.includes(target.type) && form.querySelectorAll('input').length === 1) {\n                return ()=>instance.dispatchUIEvent(form, 'submit');\n            } else {\n                return;\n            }\n        }\n    }\n    if (isEditable.isEditable(target)) {\n        const inputType = event.key === 'Enter' ? isContentEditable.isContentEditable(target) && !instance.system.keyboard.modifiers.Shift ? 'insertParagraph' : 'insertLineBreak' : 'insertText';\n        const inputData = event.key === 'Enter' ? '\\n' : event.key;\n        return ()=>input.input(instance, target, inputData, inputType);\n    }\n};\nconst ClickInputOnEnter = [\n    'button',\n    'color',\n    'file',\n    'image',\n    'reset',\n    'submit'\n];\nconst SubmitSingleInputOnEnter = [\n    'email',\n    'month',\n    'password',\n    'search',\n    'tel',\n    'text',\n    'url',\n    'week'\n];\n"],"mappings":"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"}