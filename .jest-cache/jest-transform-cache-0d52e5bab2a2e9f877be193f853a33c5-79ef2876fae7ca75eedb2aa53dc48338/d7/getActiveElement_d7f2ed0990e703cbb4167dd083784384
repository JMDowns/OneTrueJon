5f851fe7ca74056e118c2f82331ec958
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
var isDisabled = require('../misc/isDisabled.js');
function getActiveElement(document) {
  const activeElement = document.activeElement;
  if (activeElement === null || activeElement === void 0 ? void 0 : activeElement.shadowRoot) {
    return getActiveElement(activeElement.shadowRoot);
  } else {
    // Browser does not yield disabled elements as document.activeElement - jsdom does
    if (isDisabled.isDisabled(activeElement)) {
      return document.ownerDocument ? /* istanbul ignore next */document.ownerDocument.body : document.body;
    }
    return activeElement;
  }
}
function getActiveElementOrBody(document) {
  var _getActiveElement;
  return (_getActiveElement = getActiveElement(document)) !== null && _getActiveElement !== void 0 ? _getActiveElement : /* istanbul ignore next */document.body;
}
exports.getActiveElement = getActiveElement;
exports.getActiveElementOrBody = getActiveElementOrBody;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImlzRGlzYWJsZWQiLCJyZXF1aXJlIiwiZ2V0QWN0aXZlRWxlbWVudCIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsInNoYWRvd1Jvb3QiLCJvd25lckRvY3VtZW50IiwiYm9keSIsImdldEFjdGl2ZUVsZW1lbnRPckJvZHkiLCJfZ2V0QWN0aXZlRWxlbWVudCJdLCJzb3VyY2VzIjpbImdldEFjdGl2ZUVsZW1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgaXNEaXNhYmxlZCA9IHJlcXVpcmUoJy4uL21pc2MvaXNEaXNhYmxlZC5qcycpO1xuXG5mdW5jdGlvbiBnZXRBY3RpdmVFbGVtZW50KGRvY3VtZW50KSB7XG4gICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKGFjdGl2ZUVsZW1lbnQgPT09IG51bGwgfHwgYWN0aXZlRWxlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWN0aXZlRWxlbWVudC5zaGFkb3dSb290KSB7XG4gICAgICAgIHJldHVybiBnZXRBY3RpdmVFbGVtZW50KGFjdGl2ZUVsZW1lbnQuc2hhZG93Um9vdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBkb2VzIG5vdCB5aWVsZCBkaXNhYmxlZCBlbGVtZW50cyBhcyBkb2N1bWVudC5hY3RpdmVFbGVtZW50IC0ganNkb20gZG9lc1xuICAgICAgICBpZiAoaXNEaXNhYmxlZC5pc0Rpc2FibGVkKGFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQub3duZXJEb2N1bWVudCA/IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGRvY3VtZW50Lm93bmVyRG9jdW1lbnQuYm9keSA6IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQ7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudE9yQm9keShkb2N1bWVudCkge1xuICAgIHZhciBfZ2V0QWN0aXZlRWxlbWVudDtcbiAgICByZXR1cm4gKF9nZXRBY3RpdmVFbGVtZW50ID0gZ2V0QWN0aXZlRWxlbWVudChkb2N1bWVudCkpICE9PSBudWxsICYmIF9nZXRBY3RpdmVFbGVtZW50ICE9PSB2b2lkIDAgPyBfZ2V0QWN0aXZlRWxlbWVudCA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGRvY3VtZW50LmJvZHk7XG59XG5cbmV4cG9ydHMuZ2V0QWN0aXZlRWxlbWVudCA9IGdldEFjdGl2ZUVsZW1lbnQ7XG5leHBvcnRzLmdldEFjdGl2ZUVsZW1lbnRPckJvZHkgPSBnZXRBY3RpdmVFbGVtZW50T3JCb2R5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaQSxNQUFNLENBQUNDLGNBQWMsQ0FBQ0MsT0FBTyxFQUFFLFlBQVksRUFBRTtFQUFFQyxLQUFLLEVBQUU7QUFBSyxDQUFDLENBQUM7QUFFN0QsSUFBSUMsVUFBVSxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFFakQsU0FBU0MsZ0JBQWdCQSxDQUFDQyxRQUFRLEVBQUU7RUFDaEMsTUFBTUMsYUFBYSxHQUFHRCxRQUFRLENBQUNDLGFBQWE7RUFDNUMsSUFBSUEsYUFBYSxLQUFLLElBQUksSUFBSUEsYUFBYSxLQUFLLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHQSxhQUFhLENBQUNDLFVBQVUsRUFBRTtJQUN4RixPQUFPSCxnQkFBZ0IsQ0FBQ0UsYUFBYSxDQUFDQyxVQUFVLENBQUM7RUFDckQsQ0FBQyxNQUFNO0lBQ0g7SUFDQSxJQUFJTCxVQUFVLENBQUNBLFVBQVUsQ0FBQ0ksYUFBYSxDQUFDLEVBQUU7TUFDdEMsT0FBT0QsUUFBUSxDQUFDRyxhQUFhLEdBQUcsMEJBQTJCSCxRQUFRLENBQUNHLGFBQWEsQ0FBQ0MsSUFBSSxHQUFHSixRQUFRLENBQUNJLElBQUk7SUFDMUc7SUFDQSxPQUFPSCxhQUFhO0VBQ3hCO0FBQ0o7QUFDQSxTQUFTSSxzQkFBc0JBLENBQUNMLFFBQVEsRUFBRTtFQUN0QyxJQUFJTSxpQkFBaUI7RUFDckIsT0FBTyxDQUFDQSxpQkFBaUIsR0FBR1AsZ0JBQWdCLENBQUNDLFFBQVEsQ0FBQyxNQUFNLElBQUksSUFBSU0saUJBQWlCLEtBQUssS0FBSyxDQUFDLEdBQUdBLGlCQUFpQixHQUFHLDBCQUEyQk4sUUFBUSxDQUFDSSxJQUFJO0FBQ25LO0FBRUFULE9BQU8sQ0FBQ0ksZ0JBQWdCLEdBQUdBLGdCQUFnQjtBQUMzQ0osT0FBTyxDQUFDVSxzQkFBc0IsR0FBR0Esc0JBQXNCIn0=