f6154e175d83a997b28eef082b66481a
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
var isContentEditable = require('../edit/isContentEditable.js');
var isElementType = require('../misc/isElementType.js');
function getNextCursorPosition(node, offset, direction, inputType) {
  // The behavior at text node zero offset is inconsistent.
  // When walking backwards:
  // Firefox always moves to zero offset and jumps over last offset.
  // Chrome jumps over zero offset per default but over last offset when Shift is pressed.
  // The cursor always moves to zero offset if the focus area (contenteditable or body) ends there.
  // When walking foward both ignore zero offset.
  // When walking over input elements the cursor moves before or after that element.
  // When walking over line breaks the cursor moves inside any following text node.
  if (isTextNode(node) && offset + direction >= 0 && offset + direction <= node.nodeValue.length) {
    return {
      node,
      offset: offset + direction
    };
  }
  const nextNode = getNextCharacterContentNode(node, offset, direction);
  if (nextNode) {
    if (isTextNode(nextNode)) {
      return {
        node: nextNode,
        offset: direction > 0 ? Math.min(1, nextNode.nodeValue.length) : Math.max(nextNode.nodeValue.length - 1, 0)
      };
    } else if (isElementType.isElementType(nextNode, 'br')) {
      const nextPlusOne = getNextCharacterContentNode(nextNode, undefined, direction);
      if (!nextPlusOne) {
        // The behavior when there is no possible cursor position beyond the line break is inconsistent.
        // In Chrome outside of contenteditable moving before a leading line break is possible.
        // A leading line break can still be removed per deleteContentBackward.
        // A trailing line break on the other hand is not removed by deleteContentForward.
        if (direction < 0 && inputType === 'deleteContentBackward') {
          return {
            node: nextNode.parentNode,
            offset: getOffset(nextNode)
          };
        }
        return undefined;
      } else if (isTextNode(nextPlusOne)) {
        return {
          node: nextPlusOne,
          offset: direction > 0 ? 0 : nextPlusOne.nodeValue.length
        };
      } else if (direction < 0 && isElementType.isElementType(nextPlusOne, 'br')) {
        return {
          node: nextNode.parentNode,
          offset: getOffset(nextNode)
        };
      } else {
        return {
          node: nextPlusOne.parentNode,
          offset: getOffset(nextPlusOne) + (direction > 0 ? 0 : 1)
        };
      }
    } else {
      return {
        node: nextNode.parentNode,
        offset: getOffset(nextNode) + (direction > 0 ? 1 : 0)
      };
    }
  }
}
function getNextCharacterContentNode(node, offset, direction) {
  const nextOffset = Number(offset) + (direction < 0 ? -1 : 0);
  if (offset !== undefined && isElement(node) && nextOffset >= 0 && nextOffset < node.children.length) {
    node = node.children[nextOffset];
  }
  return walkNodes(node, direction === 1 ? 'next' : 'previous', isTreatedAsCharacterContent);
}
function isTreatedAsCharacterContent(node) {
  if (isTextNode(node)) {
    return true;
  }
  if (isElement(node)) {
    if (isElementType.isElementType(node, ['input', 'textarea'])) {
      return node.type !== 'hidden';
    } else if (isElementType.isElementType(node, 'br')) {
      return true;
    }
  }
  return false;
}
function getOffset(node) {
  let i = 0;
  while (node.previousSibling) {
    i++;
    node = node.previousSibling;
  }
  return i;
}
function isElement(node) {
  return node.nodeType === 1;
}
function isTextNode(node) {
  return node.nodeType === 3;
}
function walkNodes(node, direction, callback) {
  for (;;) {
    var _node_ownerDocument;
    const sibling = node[`${direction}Sibling`];
    if (sibling) {
      node = getDescendant(sibling, direction === 'next' ? 'first' : 'last');
      if (callback(node)) {
        return node;
      }
    } else if (node.parentNode && (!isElement(node.parentNode) || !isContentEditable.isContentEditable(node.parentNode) && node.parentNode !== ((_node_ownerDocument = node.ownerDocument) === null || _node_ownerDocument === void 0 ? void 0 : _node_ownerDocument.body))) {
      node = node.parentNode;
    } else {
      break;
    }
  }
}
function getDescendant(node, direction) {
  while (node.hasChildNodes()) {
    node = node[`${direction}Child`];
  }
  return node;
}
exports.getNextCursorPosition = getNextCursorPosition;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImlzQ29udGVudEVkaXRhYmxlIiwicmVxdWlyZSIsImlzRWxlbWVudFR5cGUiLCJnZXROZXh0Q3Vyc29yUG9zaXRpb24iLCJub2RlIiwib2Zmc2V0IiwiZGlyZWN0aW9uIiwiaW5wdXRUeXBlIiwiaXNUZXh0Tm9kZSIsIm5vZGVWYWx1ZSIsImxlbmd0aCIsIm5leHROb2RlIiwiZ2V0TmV4dENoYXJhY3RlckNvbnRlbnROb2RlIiwiTWF0aCIsIm1pbiIsIm1heCIsIm5leHRQbHVzT25lIiwidW5kZWZpbmVkIiwicGFyZW50Tm9kZSIsImdldE9mZnNldCIsIm5leHRPZmZzZXQiLCJOdW1iZXIiLCJpc0VsZW1lbnQiLCJjaGlsZHJlbiIsIndhbGtOb2RlcyIsImlzVHJlYXRlZEFzQ2hhcmFjdGVyQ29udGVudCIsInR5cGUiLCJpIiwicHJldmlvdXNTaWJsaW5nIiwibm9kZVR5cGUiLCJjYWxsYmFjayIsIl9ub2RlX293bmVyRG9jdW1lbnQiLCJzaWJsaW5nIiwiZ2V0RGVzY2VuZGFudCIsIm93bmVyRG9jdW1lbnQiLCJib2R5IiwiaGFzQ2hpbGROb2RlcyJdLCJzb3VyY2VzIjpbImN1cnNvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBpc0NvbnRlbnRFZGl0YWJsZSA9IHJlcXVpcmUoJy4uL2VkaXQvaXNDb250ZW50RWRpdGFibGUuanMnKTtcbnZhciBpc0VsZW1lbnRUeXBlID0gcmVxdWlyZSgnLi4vbWlzYy9pc0VsZW1lbnRUeXBlLmpzJyk7XG5cbmZ1bmN0aW9uIGdldE5leHRDdXJzb3JQb3NpdGlvbihub2RlLCBvZmZzZXQsIGRpcmVjdGlvbiwgaW5wdXRUeXBlKSB7XG4gICAgLy8gVGhlIGJlaGF2aW9yIGF0IHRleHQgbm9kZSB6ZXJvIG9mZnNldCBpcyBpbmNvbnNpc3RlbnQuXG4gICAgLy8gV2hlbiB3YWxraW5nIGJhY2t3YXJkczpcbiAgICAvLyBGaXJlZm94IGFsd2F5cyBtb3ZlcyB0byB6ZXJvIG9mZnNldCBhbmQganVtcHMgb3ZlciBsYXN0IG9mZnNldC5cbiAgICAvLyBDaHJvbWUganVtcHMgb3ZlciB6ZXJvIG9mZnNldCBwZXIgZGVmYXVsdCBidXQgb3ZlciBsYXN0IG9mZnNldCB3aGVuIFNoaWZ0IGlzIHByZXNzZWQuXG4gICAgLy8gVGhlIGN1cnNvciBhbHdheXMgbW92ZXMgdG8gemVybyBvZmZzZXQgaWYgdGhlIGZvY3VzIGFyZWEgKGNvbnRlbnRlZGl0YWJsZSBvciBib2R5KSBlbmRzIHRoZXJlLlxuICAgIC8vIFdoZW4gd2Fsa2luZyBmb3dhcmQgYm90aCBpZ25vcmUgemVybyBvZmZzZXQuXG4gICAgLy8gV2hlbiB3YWxraW5nIG92ZXIgaW5wdXQgZWxlbWVudHMgdGhlIGN1cnNvciBtb3ZlcyBiZWZvcmUgb3IgYWZ0ZXIgdGhhdCBlbGVtZW50LlxuICAgIC8vIFdoZW4gd2Fsa2luZyBvdmVyIGxpbmUgYnJlYWtzIHRoZSBjdXJzb3IgbW92ZXMgaW5zaWRlIGFueSBmb2xsb3dpbmcgdGV4dCBub2RlLlxuICAgIGlmIChpc1RleHROb2RlKG5vZGUpICYmIG9mZnNldCArIGRpcmVjdGlvbiA+PSAwICYmIG9mZnNldCArIGRpcmVjdGlvbiA8PSBub2RlLm5vZGVWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBvZmZzZXQ6IG9mZnNldCArIGRpcmVjdGlvblxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBuZXh0Tm9kZSA9IGdldE5leHRDaGFyYWN0ZXJDb250ZW50Tm9kZShub2RlLCBvZmZzZXQsIGRpcmVjdGlvbik7XG4gICAgaWYgKG5leHROb2RlKSB7XG4gICAgICAgIGlmIChpc1RleHROb2RlKG5leHROb2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBub2RlOiBuZXh0Tm9kZSxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGRpcmVjdGlvbiA+IDAgPyBNYXRoLm1pbigxLCBuZXh0Tm9kZS5ub2RlVmFsdWUubGVuZ3RoKSA6IE1hdGgubWF4KG5leHROb2RlLm5vZGVWYWx1ZS5sZW5ndGggLSAxLCAwKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0VsZW1lbnRUeXBlLmlzRWxlbWVudFR5cGUobmV4dE5vZGUsICdicicpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0UGx1c09uZSA9IGdldE5leHRDaGFyYWN0ZXJDb250ZW50Tm9kZShuZXh0Tm9kZSwgdW5kZWZpbmVkLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKCFuZXh0UGx1c09uZSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBiZWhhdmlvciB3aGVuIHRoZXJlIGlzIG5vIHBvc3NpYmxlIGN1cnNvciBwb3NpdGlvbiBiZXlvbmQgdGhlIGxpbmUgYnJlYWsgaXMgaW5jb25zaXN0ZW50LlxuICAgICAgICAgICAgICAgIC8vIEluIENocm9tZSBvdXRzaWRlIG9mIGNvbnRlbnRlZGl0YWJsZSBtb3ZpbmcgYmVmb3JlIGEgbGVhZGluZyBsaW5lIGJyZWFrIGlzIHBvc3NpYmxlLlxuICAgICAgICAgICAgICAgIC8vIEEgbGVhZGluZyBsaW5lIGJyZWFrIGNhbiBzdGlsbCBiZSByZW1vdmVkIHBlciBkZWxldGVDb250ZW50QmFja3dhcmQuXG4gICAgICAgICAgICAgICAgLy8gQSB0cmFpbGluZyBsaW5lIGJyZWFrIG9uIHRoZSBvdGhlciBoYW5kIGlzIG5vdCByZW1vdmVkIGJ5IGRlbGV0ZUNvbnRlbnRGb3J3YXJkLlxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPCAwICYmIGlucHV0VHlwZSA9PT0gJ2RlbGV0ZUNvbnRlbnRCYWNrd2FyZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IG5leHROb2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGdldE9mZnNldChuZXh0Tm9kZSlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShuZXh0UGx1c09uZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBub2RlOiBuZXh0UGx1c09uZSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBkaXJlY3Rpb24gPiAwID8gMCA6IG5leHRQbHVzT25lLm5vZGVWYWx1ZS5sZW5ndGhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPCAwICYmIGlzRWxlbWVudFR5cGUuaXNFbGVtZW50VHlwZShuZXh0UGx1c09uZSwgJ2JyJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBub2RlOiBuZXh0Tm9kZS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGdldE9mZnNldChuZXh0Tm9kZSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBub2RlOiBuZXh0UGx1c09uZS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGdldE9mZnNldChuZXh0UGx1c09uZSkgKyAoZGlyZWN0aW9uID4gMCA/IDAgOiAxKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5vZGU6IG5leHROb2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBnZXRPZmZzZXQobmV4dE5vZGUpICsgKGRpcmVjdGlvbiA+IDAgPyAxIDogMClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBnZXROZXh0Q2hhcmFjdGVyQ29udGVudE5vZGUobm9kZSwgb2Zmc2V0LCBkaXJlY3Rpb24pIHtcbiAgICBjb25zdCBuZXh0T2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgKyAoZGlyZWN0aW9uIDwgMCA/IC0xIDogMCk7XG4gICAgaWYgKG9mZnNldCAhPT0gdW5kZWZpbmVkICYmIGlzRWxlbWVudChub2RlKSAmJiBuZXh0T2Zmc2V0ID49IDAgJiYgbmV4dE9mZnNldCA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLmNoaWxkcmVuW25leHRPZmZzZXRdO1xuICAgIH1cbiAgICByZXR1cm4gd2Fsa05vZGVzKG5vZGUsIGRpcmVjdGlvbiA9PT0gMSA/ICduZXh0JyA6ICdwcmV2aW91cycsIGlzVHJlYXRlZEFzQ2hhcmFjdGVyQ29udGVudCk7XG59XG5mdW5jdGlvbiBpc1RyZWF0ZWRBc0NoYXJhY3RlckNvbnRlbnQobm9kZSkge1xuICAgIGlmIChpc1RleHROb2RlKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoaXNFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgIGlmIChpc0VsZW1lbnRUeXBlLmlzRWxlbWVudFR5cGUobm9kZSwgW1xuICAgICAgICAgICAgJ2lucHV0JyxcbiAgICAgICAgICAgICd0ZXh0YXJlYSdcbiAgICAgICAgXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLnR5cGUgIT09ICdoaWRkZW4nO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRWxlbWVudFR5cGUuaXNFbGVtZW50VHlwZShub2RlLCAnYnInKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZ2V0T2Zmc2V0KG5vZGUpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUobm9kZS5wcmV2aW91c1NpYmxpbmcpe1xuICAgICAgICBpKys7XG4gICAgICAgIG5vZGUgPSBub2RlLnByZXZpb3VzU2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBpc0VsZW1lbnQobm9kZSkge1xuICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAxO1xufVxuZnVuY3Rpb24gaXNUZXh0Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDM7XG59XG5mdW5jdGlvbiB3YWxrTm9kZXMobm9kZSwgZGlyZWN0aW9uLCBjYWxsYmFjaykge1xuICAgIGZvcig7Oyl7XG4gICAgICAgIHZhciBfbm9kZV9vd25lckRvY3VtZW50O1xuICAgICAgICBjb25zdCBzaWJsaW5nID0gbm9kZVtgJHtkaXJlY3Rpb259U2libGluZ2BdO1xuICAgICAgICBpZiAoc2libGluZykge1xuICAgICAgICAgICAgbm9kZSA9IGdldERlc2NlbmRhbnQoc2libGluZywgZGlyZWN0aW9uID09PSAnbmV4dCcgPyAnZmlyc3QnIDogJ2xhc3QnKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjayhub2RlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAmJiAoIWlzRWxlbWVudChub2RlLnBhcmVudE5vZGUpIHx8ICFpc0NvbnRlbnRFZGl0YWJsZS5pc0NvbnRlbnRFZGl0YWJsZShub2RlLnBhcmVudE5vZGUpICYmIG5vZGUucGFyZW50Tm9kZSAhPT0gKChfbm9kZV9vd25lckRvY3VtZW50ID0gbm9kZS5vd25lckRvY3VtZW50KSA9PT0gbnVsbCB8fCBfbm9kZV9vd25lckRvY3VtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZV9vd25lckRvY3VtZW50LmJvZHkpKSkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0RGVzY2VuZGFudChub2RlLCBkaXJlY3Rpb24pIHtcbiAgICB3aGlsZShub2RlLmhhc0NoaWxkTm9kZXMoKSl7XG4gICAgICAgIG5vZGUgPSBub2RlW2Ake2RpcmVjdGlvbn1DaGlsZGBdO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0cy5nZXROZXh0Q3Vyc29yUG9zaXRpb24gPSBnZXROZXh0Q3Vyc29yUG9zaXRpb247XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVpBLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDQyxPQUFPLEVBQUUsWUFBWSxFQUFFO0VBQUVDLEtBQUssRUFBRTtBQUFLLENBQUMsQ0FBQztBQUU3RCxJQUFJQyxpQkFBaUIsR0FBR0MsT0FBTyxDQUFDLDhCQUE4QixDQUFDO0FBQy9ELElBQUlDLGFBQWEsR0FBR0QsT0FBTyxDQUFDLDBCQUEwQixDQUFDO0FBRXZELFNBQVNFLHFCQUFxQkEsQ0FBQ0MsSUFBSSxFQUFFQyxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFO0VBQy9EO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQSxJQUFJQyxVQUFVLENBQUNKLElBQUksQ0FBQyxJQUFJQyxNQUFNLEdBQUdDLFNBQVMsSUFBSSxDQUFDLElBQUlELE1BQU0sR0FBR0MsU0FBUyxJQUFJRixJQUFJLENBQUNLLFNBQVMsQ0FBQ0MsTUFBTSxFQUFFO0lBQzVGLE9BQU87TUFDSE4sSUFBSTtNQUNKQyxNQUFNLEVBQUVBLE1BQU0sR0FBR0M7SUFDckIsQ0FBQztFQUNMO0VBQ0EsTUFBTUssUUFBUSxHQUFHQywyQkFBMkIsQ0FBQ1IsSUFBSSxFQUFFQyxNQUFNLEVBQUVDLFNB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