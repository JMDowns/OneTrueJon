{"version":3,"names":["Object","defineProperty","exports","value","_define_property","obj","key","enumerable","configurable","writable","Buttons","getButtons","v","button","keys","pressed","Number","down","keyDef","getMouseButtonId","push","undefined","up","filter","k","name","length","constructor","MouseButton","primary","secondary","auxiliary","back","X1","forward","X2","MouseButtonFlip","getMouseEventButton"],"sources":["buttons.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _define_property(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nclass Buttons {\n    getButtons() {\n        let v = 0;\n        for (const button of Object.keys(this.pressed)){\n            // eslint-disable-next-line no-bitwise\n            v |= 2 ** Number(button);\n        }\n        return v;\n    }\n    down(keyDef) {\n        const button = getMouseButtonId(keyDef.button);\n        if (button in this.pressed) {\n            this.pressed[button].push(keyDef);\n            return undefined;\n        }\n        this.pressed[button] = [\n            keyDef\n        ];\n        return button;\n    }\n    up(keyDef) {\n        const button = getMouseButtonId(keyDef.button);\n        if (button in this.pressed) {\n            this.pressed[button] = this.pressed[button].filter((k)=>k.name !== keyDef.name);\n            if (this.pressed[button].length === 0) {\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete this.pressed[button];\n                return button;\n            }\n        }\n        return undefined;\n    }\n    constructor(){\n        _define_property(this, \"pressed\", {});\n    }\n}\nconst MouseButton = {\n    primary: 0,\n    secondary: 1,\n    auxiliary: 2,\n    back: 3,\n    X1: 3,\n    forward: 4,\n    X2: 4\n};\nfunction getMouseButtonId(button = 0) {\n    if (button in MouseButton) {\n        return MouseButton[button];\n    }\n    return Number(button);\n}\n// On the `MouseEvent.button` property auxiliary and secondary button are flipped compared to `MouseEvent.buttons`.\nconst MouseButtonFlip = {\n    1: 2,\n    2: 1\n};\nfunction getMouseEventButton(button) {\n    button = getMouseButtonId(button);\n    if (button in MouseButtonFlip) {\n        return MouseButtonFlip[button];\n    }\n    return button;\n}\n\nexports.Buttons = Buttons;\nexports.MouseButton = MouseButton;\nexports.MouseButtonFlip = MouseButtonFlip;\nexports.getMouseButtonId = getMouseButtonId;\nexports.getMouseEventButton = getMouseEventButton;\n"],"mappings":"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"}