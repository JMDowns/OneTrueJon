{"version":3,"names":["Object","defineProperty","exports","value","UI","require","cursor","selection","setSelection","moveSelection","node","direction","hasOwnSelection","getUISelection","focusNode","focusOffset","startOffset","endOffset","ownerDocument","getSelection","isCollapsed","nextPosition","getNextCursorPosition","offset"],"sources":["moveSelection.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar UI = require('../../document/UI.js');\nrequire('../../utils/click/isClickableInput.js');\nrequire('../../utils/dataTransfer/Clipboard.js');\nrequire('../../utils/edit/isEditable.js');\nrequire('../../utils/edit/maxLength.js');\nvar cursor = require('../../utils/focus/cursor.js');\nrequire('@testing-library/dom/dist/helpers.js');\nvar selection = require('../../utils/focus/selection.js');\nrequire('../../utils/keyDef/readNextDescriptor.js');\nrequire('../../utils/misc/level.js');\nrequire('../../options.js');\nvar setSelection = require('./setSelection.js');\n\n/**\n * Move the selection\n */ function moveSelection(node, direction) {\n    // TODO: implement shift\n    if (selection.hasOwnSelection(node)) {\n        const selection = UI.getUISelection(node);\n        setSelection.setSelection({\n            focusNode: node,\n            focusOffset: selection.startOffset === selection.endOffset ? selection.focusOffset + direction : direction < 0 ? selection.startOffset : selection.endOffset\n        });\n    } else {\n        const selection = node.ownerDocument.getSelection();\n        if (!(selection === null || selection === void 0 ? void 0 : selection.focusNode)) {\n            return;\n        }\n        if (selection.isCollapsed) {\n            const nextPosition = cursor.getNextCursorPosition(selection.focusNode, selection.focusOffset, direction);\n            if (nextPosition) {\n                setSelection.setSelection({\n                    focusNode: nextPosition.node,\n                    focusOffset: nextPosition.offset\n                });\n            }\n        } else {\n            selection[direction < 0 ? 'collapseToStart' : 'collapseToEnd']();\n        }\n    }\n}\n\nexports.moveSelection = moveSelection;\n"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAE7D,IAAIC,EAAE,GAAGC,OAAO,CAAC,sBAAsB,CAAC;AACxCA,OAAO,CAAC,uCAAuC,CAAC;AAChDA,OAAO,CAAC,uCAAuC,CAAC;AAChDA,OAAO,CAAC,gCAAgC,CAAC;AACzCA,OAAO,CAAC,+BAA+B,CAAC;AACxC,IAAIC,MAAM,GAAGD,OAAO,CAAC,6BAA6B,CAAC;AACnDA,OAAO,CAAC,sCAAsC,CAAC;AAC/C,IAAIE,SAAS,GAAGF,OAAO,CAAC,gCAAgC,CAAC;AACzDA,OAAO,CAAC,0CAA0C,CAAC;AACnDA,OAAO,CAAC,2BAA2B,CAAC;AACpCA,OAAO,CAAC,kBAAkB,CAAC;AAC3B,IAAIG,YAAY,GAAGH,OAAO,CAAC,mBAAmB,CAAC;;AAE/C;AACA;AACA;AAAI,SAASI,aAAaA,CAACC,IAAI,EAAEC,SAAS,EAAE;EACxC;EACA,IAAIJ,SAAS,CAACK,eAAe,CAACF,IAAI,CAAC,EAAE;IACjC,MAAMH,SAAS,GAAGH,EAAE,CAACS,cAAc,CAACH,IAAI,CAAC;IACzCF,YAAY,CAACA,YAAY,CAAC;MACtBM,SAAS,EAAEJ,IAAI;MACfK,WAAW,EAAER,SAAS,CAACS,WAAW,KAAKT,SAAS,CAACU,SAAS,GAAGV,SAAS,CAACQ,WAAW,GAAGJ,SAAS,GAAGA,SAAS,GAAG,CAAC,GAAGJ,SAAS,CAACS,WAAW,GAAGT,SAAS,CAACU;IACvJ,CAAC,CAAC;EACN,CAAC,MAAM;IACH,MAAMV,SAAS,GAAGG,IAAI,CAACQ,aAAa,CAACC,YAAY,CAAC,CAAC;IACnD,IAAI,EAAEZ,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACO,SAAS,CAAC,EAAE;MAC9E;IACJ;IACA,IAAIP,SAAS,CAACa,WAAW,EAAE;MACvB,MAAMC,YAAY,GAAGf,MAAM,CAACgB,qBAAqB,CAACf,SAAS,CAACO,SAAS,EAAEP,SAAS,CAACQ,WAAW,EAAEJ,SAAS,CAAC;MACxG,IAAIU,YAAY,EAAE;QACdb,YAAY,CAACA,YAAY,CAAC;UACtBM,SAAS,EAAEO,YAAY,CAACX,IAAI;UAC5BK,WAAW,EAAEM,YAAY,CAACE;QAC9B,CAAC,CAAC;MACN;IACJ,CAAC,MAAM;MACHhB,SAAS,CAACI,SAAS,GAAG,CAAC,GAAG,iBAAiB,GAAG,eAAe,CAAC,CAAC,CAAC;IACpE;EACJ;AACJ;AAEAT,OAAO,CAACO,aAAa,GAAGA,aAAa"}