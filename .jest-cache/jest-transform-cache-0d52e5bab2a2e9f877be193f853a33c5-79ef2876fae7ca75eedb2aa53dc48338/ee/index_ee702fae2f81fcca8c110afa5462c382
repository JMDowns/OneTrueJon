1104bd745e25e5fe619783b951d12a23
'use strict';

var forEach = require('for-each');
var availableTypedArrays = require('available-typed-arrays');
var callBind = require('call-bind');
var callBound = require('call-bind/callBound');
var gOPD = require('gopd');
var $toString = callBound('Object.prototype.toString');
var hasToStringTag = require('has-tostringtag/shams')();
var g = typeof globalThis === 'undefined' ? global : globalThis;
var typedArrays = availableTypedArrays();
var $slice = callBound('String.prototype.slice');
var getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');

var $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {
  for (var i = 0; i < array.length; i += 1) {
    if (array[i] === value) {
      return i;
    }
  }
  return -1;
};
var cache = {
  __proto__: null
};
if (hasToStringTag && gOPD && getPrototypeOf) {
  forEach(typedArrays, function (typedArray) {
    var arr = new g[typedArray]();
    if (Symbol.toStringTag in arr) {
      var proto = getPrototypeOf(arr);
      var descriptor = gOPD(proto, Symbol.toStringTag);
      if (!descriptor) {
        var superProto = getPrototypeOf(proto);
        descriptor = gOPD(superProto, Symbol.toStringTag);
      }
      cache['$' + typedArray] = callBind(descriptor.get);
    }
  });
} else {
  forEach(typedArrays, function (typedArray) {
    var arr = new g[typedArray]();
    var fn = arr.slice || arr.set;
    if (fn) {
      cache['$' + typedArray] = callBind(fn);
    }
  });
}
var tryTypedArrays = function tryAllTypedArrays(value) {
  var found = false;
  forEach(cache, function (getter, typedArray) {
    if (!found) {
      try {
        if ('$' + getter(value) === typedArray) {
          found = $slice(typedArray, 1);
        }
      } catch (e) {/**/}
    }
  });
  return found;
};
var trySlices = function tryAllSlices(value) {
  var found = false;
  forEach(cache, function (getter, name) {
    if (!found) {
      try {
        getter(value);
        found = $slice(name, 1);
      } catch (e) {/**/}
    }
  });
  return found;
};
module.exports = function whichTypedArray(value) {
  if (!value || typeof value !== 'object') {
    return false;
  }
  if (!hasToStringTag) {
    var tag = $slice($toString(value), 8, -1);
    if ($indexOf(typedArrays, tag) > -1) {
      return tag;
    }
    if (tag !== 'Object') {
      return false;
    }
    // node < 0.6 hits here on real Typed Arrays
    return trySlices(value);
  }
  if (!gOPD) {
    return null;
  } // unknown engine
  return tryTypedArrays(value);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmb3JFYWNoIiwicmVxdWlyZSIsImF2YWlsYWJsZVR5cGVkQXJyYXlzIiwiY2FsbEJpbmQiLCJjYWxsQm91bmQiLCJnT1BEIiwiJHRvU3RyaW5nIiwiaGFzVG9TdHJpbmdUYWciLCJnIiwiZ2xvYmFsVGhpcyIsImdsb2JhbCIsInR5cGVkQXJyYXlzIiwiJHNsaWNlIiwiZ2V0UHJvdG90eXBlT2YiLCJPYmplY3QiLCIkaW5kZXhPZiIsImluZGV4T2YiLCJhcnJheSIsInZhbHVlIiwiaSIsImxlbmd0aCIsImNhY2hlIiwiX19wcm90b19fIiwidHlwZWRBcnJheSIsImFyciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwicHJvdG8iLCJkZXNjcmlwdG9yIiwic3VwZXJQcm90byIsImdldCIsImZuIiwic2xpY2UiLCJzZXQiLCJ0cnlUeXBlZEFycmF5cyIsInRyeUFsbFR5cGVkQXJyYXlzIiwiZm91bmQiLCJnZXR0ZXIiLCJlIiwidHJ5U2xpY2VzIiwidHJ5QWxsU2xpY2VzIiwibmFtZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJ3aGljaFR5cGVkQXJyYXkiLCJ0YWciXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBmb3JFYWNoID0gcmVxdWlyZSgnZm9yLWVhY2gnKTtcbnZhciBhdmFpbGFibGVUeXBlZEFycmF5cyA9IHJlcXVpcmUoJ2F2YWlsYWJsZS10eXBlZC1hcnJheXMnKTtcbnZhciBjYWxsQmluZCA9IHJlcXVpcmUoJ2NhbGwtYmluZCcpO1xudmFyIGNhbGxCb3VuZCA9IHJlcXVpcmUoJ2NhbGwtYmluZC9jYWxsQm91bmQnKTtcbnZhciBnT1BEID0gcmVxdWlyZSgnZ29wZCcpO1xuXG52YXIgJHRvU3RyaW5nID0gY2FsbEJvdW5kKCdPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nJyk7XG52YXIgaGFzVG9TdHJpbmdUYWcgPSByZXF1aXJlKCdoYXMtdG9zdHJpbmd0YWcvc2hhbXMnKSgpO1xuXG52YXIgZyA9IHR5cGVvZiBnbG9iYWxUaGlzID09PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IGdsb2JhbFRoaXM7XG52YXIgdHlwZWRBcnJheXMgPSBhdmFpbGFibGVUeXBlZEFycmF5cygpO1xuXG52YXIgJHNsaWNlID0gY2FsbEJvdW5kKCdTdHJpbmcucHJvdG90eXBlLnNsaWNlJyk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7IC8vIHJlcXVpcmUoJ2dldHByb3RvdHlwZW9mJyk7XG5cbnZhciAkaW5kZXhPZiA9IGNhbGxCb3VuZCgnQXJyYXkucHJvdG90eXBlLmluZGV4T2YnLCB0cnVlKSB8fCBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xuXHRcdFx0cmV0dXJuIGk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiAtMTtcbn07XG52YXIgY2FjaGUgPSB7IF9fcHJvdG9fXzogbnVsbCB9O1xuaWYgKGhhc1RvU3RyaW5nVGFnICYmIGdPUEQgJiYgZ2V0UHJvdG90eXBlT2YpIHtcblx0Zm9yRWFjaCh0eXBlZEFycmF5cywgZnVuY3Rpb24gKHR5cGVkQXJyYXkpIHtcblx0XHR2YXIgYXJyID0gbmV3IGdbdHlwZWRBcnJheV0oKTtcblx0XHRpZiAoU3ltYm9sLnRvU3RyaW5nVGFnIGluIGFycikge1xuXHRcdFx0dmFyIHByb3RvID0gZ2V0UHJvdG90eXBlT2YoYXJyKTtcblx0XHRcdHZhciBkZXNjcmlwdG9yID0gZ09QRChwcm90bywgU3ltYm9sLnRvU3RyaW5nVGFnKTtcblx0XHRcdGlmICghZGVzY3JpcHRvcikge1xuXHRcdFx0XHR2YXIgc3VwZXJQcm90byA9IGdldFByb3RvdHlwZU9mKHByb3RvKTtcblx0XHRcdFx0ZGVzY3JpcHRvciA9IGdPUEQoc3VwZXJQcm90bywgU3ltYm9sLnRvU3RyaW5nVGFnKTtcblx0XHRcdH1cblx0XHRcdGNhY2hlWyckJyArIHR5cGVkQXJyYXldID0gY2FsbEJpbmQoZGVzY3JpcHRvci5nZXQpO1xuXHRcdH1cblx0fSk7XG59IGVsc2Uge1xuXHRmb3JFYWNoKHR5cGVkQXJyYXlzLCBmdW5jdGlvbiAodHlwZWRBcnJheSkge1xuXHRcdHZhciBhcnIgPSBuZXcgZ1t0eXBlZEFycmF5XSgpO1xuXHRcdHZhciBmbiA9IGFyci5zbGljZSB8fCBhcnIuc2V0O1xuXHRcdGlmIChmbikge1xuXHRcdFx0Y2FjaGVbJyQnICsgdHlwZWRBcnJheV0gPSBjYWxsQmluZChmbik7XG5cdFx0fVxuXHR9KTtcbn1cblxudmFyIHRyeVR5cGVkQXJyYXlzID0gZnVuY3Rpb24gdHJ5QWxsVHlwZWRBcnJheXModmFsdWUpIHtcblx0dmFyIGZvdW5kID0gZmFsc2U7XG5cdGZvckVhY2goY2FjaGUsIGZ1bmN0aW9uIChnZXR0ZXIsIHR5cGVkQXJyYXkpIHtcblx0XHRpZiAoIWZvdW5kKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoJyQnICsgZ2V0dGVyKHZhbHVlKSA9PT0gdHlwZWRBcnJheSkge1xuXHRcdFx0XHRcdGZvdW5kID0gJHNsaWNlKHR5cGVkQXJyYXksIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlKSB7IC8qKi8gfVxuXHRcdH1cblx0fSk7XG5cdHJldHVybiBmb3VuZDtcbn07XG5cbnZhciB0cnlTbGljZXMgPSBmdW5jdGlvbiB0cnlBbGxTbGljZXModmFsdWUpIHtcblx0dmFyIGZvdW5kID0gZmFsc2U7XG5cdGZvckVhY2goY2FjaGUsIGZ1bmN0aW9uIChnZXR0ZXIsIG5hbWUpIHtcblx0XHRpZiAoIWZvdW5kKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRnZXR0ZXIodmFsdWUpO1xuXHRcdFx0XHRmb3VuZCA9ICRzbGljZShuYW1lLCAxKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHsgLyoqLyB9XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGZvdW5kO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGljaFR5cGVkQXJyYXkodmFsdWUpIHtcblx0aWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAoIWhhc1RvU3RyaW5nVGFnKSB7XG5cdFx0dmFyIHRhZyA9ICRzbGljZSgkdG9TdHJpbmcodmFsdWUpLCA4LCAtMSk7XG5cdFx0aWYgKCRpbmRleE9mKHR5cGVkQXJyYXlzLCB0YWcpID4gLTEpIHtcblx0XHRcdHJldHVybiB0YWc7XG5cdFx0fVxuXHRcdGlmICh0YWcgIT09ICdPYmplY3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdC8vIG5vZGUgPCAwLjYgaGl0cyBoZXJlIG9uIHJlYWwgVHlwZWQgQXJyYXlzXG5cdFx0cmV0dXJuIHRyeVNsaWNlcyh2YWx1ZSk7XG5cdH1cblx0aWYgKCFnT1BEKSB7IHJldHVybiBudWxsOyB9IC8vIHVua25vd24gZW5naW5lXG5cdHJldHVybiB0cnlUeXBlZEFycmF5cyh2YWx1ZSk7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaLElBQUlBLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNqQyxJQUFJQyxvQkFBb0IsR0FBR0QsT0FBTyxDQUFDLHdCQUF3QixDQUFDO0FBQzVELElBQUlFLFFBQVEsR0FBR0YsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNuQyxJQUFJRyxTQUFTLEdBQUdILE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztBQUM5QyxJQUFJSSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxNQUFNLENBQUM7QUFFMUIsSUFBSUssU0FBUyxHQUFHRixTQUFTLENBQUMsMkJBQTJCLENBQUM7QUFDdEQsSUFBSUcsY0FBYyxHQUFHTixPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDO0FBRXZELElBQUlPLENBQUMsR0FBRyxPQUFPQyxVQUFVLEtBQUssV0FBVyxHQUFHQyxNQUFNLEdBQUdELFVBQVU7QUFDL0QsSUFBSUUsV0FB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